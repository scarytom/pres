<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>A Bridge Over Troubled Wat-er</title>
	<meta name="viewport" content="width=1024, user-scalable=no">
	
	<!-- Replace path with correct path to deck.core.css. -->
	<link rel="stylesheet" href="../../deck.js/core/deck.core.css" type="text/css">
	
	<!-- Any other extension CSS files go here. -->
	<link rel="stylesheet" href="../../deck.js/themes/style/web-2.0.css" type="text/css">
	<link rel="stylesheet" href="../../deck.js/themes/transition/horizontal-slide.css" type="text/css">
	<link rel="stylesheet" href="bigcode.css" type="text/css">
	
	<!-- Replace path with correct path to Modernizr file. -->
	<script src="../../deck.js/modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Create any number of elements with class slide within the container -->
<section class="slide">
  <h1>A Bridge Over Troubled Wat-er</h1>
</section>


<section class="slide">
  <h2>Start with a Java Interface:</h2>
  <pre>public interface Function&lt;F, T&gt; {
  T apply(F input);
}</pre>
  <section class="slide">
    <h2>and extend it to describe a service:</h2>
    <pre>public interface StringPricer
         extends Function&lt;String, Integer&gt;
{
  Integer apply(String item);
}</pre>
  </section>
</section>


<section class="slide">
  <h2>We need a consumer:</h2>
  <pre>class Shop&lt;T&gt {
  Function&lt;T, Integer&gt pricer;
  Shop(Function&lt;T, Integer&gt p) { pricer = p; }

  Integer priceOf(T item) {
    return pricer.apply(item);
  }
}</pre>
</section>


<section class="slide">
  <h2>Which we'll test, of course:</h2>
  <pre>@Test shopCanPriceStuff() {
  StringPricer clerk = mock(StringPricer.class);
  Shop&lt;String&gt; shop = new Shop&lt;String&gt;(clerk);

  allowing(clerk).apply("banana");
    will(returnValue(1));

  assertThat(shop.priceOf("banana"), is(1));
}</pre>
  <section class="slide">
    <h2>any ideas?</h2>
  </section>
</section>


<section class="slide">
  <h2>output:</h2>
  <pre>unexpected invocation: stringPricer.apply("banana")
expectations:
  allowed, never invoked:
    stringPricer.apply("banana"); returns <1>
what happened before this: nothing!</pre>
  </section>
</section>


<section class="slide">
  <h2>Wat!</h2>
  <img src=""/>
</section>




<!-- Update these paths to point to the correct files. -->
<script src="../../deck.js/jquery-1.7.min.js"></script>
<script src="../../deck.js/core/deck.core.js"></script>

<!-- Add any other extension JS files here -->


<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
	$(function() {
		$.deck('.slide');
	});
</script>
</body>
</html>
